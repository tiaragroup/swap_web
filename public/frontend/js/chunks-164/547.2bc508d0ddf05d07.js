"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[547],{1547:(t,s,e)=>{function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function r(t,s,e){return(s=function(t){var s=function(t,s){if("object"!==a(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,s||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(t)}(t,"string");return"symbol"===a(s)?s:String(s)}(s))in t?Object.defineProperty(t,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[s]=e,t}e.r(s),e.d(s,{default:()=>u});var o=e(5662),i=e(3874),n=e(3434),c=e(951),l=e(1038),d=e(8154);const _={name:"checkout",components:{telePhone:i.Z,shimmer:o.Z,coupon:n.Z,payment_details:c.Z,addressForm:l.Z,gdpr_page:d.Z},data:function(){return{coupon_area:!0,coupon_list:[],checkout:{},form:{id:"",name:"",email:"",phone_no:"",address:"",country_id:"",state_id:"",city_id:"",postal_code:""},shipping_cost:0,address_area:!1,default_shipping:{},default_billing:{},same_address:!0,addresses:[],pick_hubs:[],pick_hub_id:"",checkout_method:2,loading:!1,save_loading:!1,address_area_title:"Add a new address",address_submit_button:"Add"}},mounted:function(){this.getAddress(),this.address_submit_button=this.lang.add},watch:{carts:function(t,s){this.getAddress()},lang:function(t,s){this.address_submit_button=this.lang.add}},computed:{carts:function(){return this.$store.getters.getCarts},shimmer:function(){return this.$store.state.module.shimmer}},methods:{getAddress:function(){var t=this,s=this.getUrl("user/address?cart_page="+this.$route.query.cart_page);this.$Progress.start(),axios.get(s,{params:this.$route.params.type}).then((function(s){if(s.data.error)t.$Progress.fail(),toastr.error(s.data.error,t.lang.Error+" !!");else{t.$store.commit("setLoginRedirection","");var e=s.data.coupons;t.parseData(s.data.carts,s.data.checkouts,e),t.addresses=s.data.addresses,t.checkout=s.data.checkout,t.pick_hubs=s.data.pickup_hubs;for(var a=0;a<t.addresses.length;a++)1==t.addresses[a].default_shipping&&(t.default_shipping=t.addresses[a]),1==t.addresses[a].default_billing&&(t.default_billing=t.addresses[a]);0===t.addresses.length&&(t.address_area=!0),t.$Progress.finish()}})).catch((function(s){t.$Progress.fail()}))},confirmOrder:function(){var t=this;if(!this.$refs.privacy_agreement.checkAgreements())return toastr.info(this.lang.accept_terms,this.lang.Error+" !!");if(this.payment_form.checkout_method=this.checkout_method,1==this.checkout_method){if(!this.pick_hub_id)return toastr.info(this.lang.please_choose_a_pickHub_point,this.lang.Error+" !!");this.payment_form.pick_hub_id=this.pick_hub_id}else{if(!this.default_shipping.id)return toastr.info(this.lang.please_choose_a_billing_address,this.lang.Error+" !!");this.payment_form.shipping_address=this.default_shipping,this.payment_form.billing_address=this.default_billing}this.payment_form.buy_now=this.$route.params.type?this.$route.params.type.is_buy_now:0;var s=this.getUrl("user/confirm-order");this.$Progress.start(),this.loading=!0,axios.post(s,this.payment_form).then((function(s){t.loading=!1,s.data.error?(t.$Progress.fail(),toastr.error(s.data.error,t.lang.Error+" !!")):(t.$Progress.finish(),t.$router.push({name:"payment"}))})).catch((function(s){t.loading=!1}))},billingAddressSelect:function(){this.same_address?this.default_billing=this.default_shipping:this.default_billing={}},parseData:function(t,s,e){this.resetForm();for(var a=0;a<t.length;a++)this.payment_form.quantity.push({id:t[a].id,quantity:t[a].quantity}),this.payment_form.sub_total+=parseFloat(t[a].price*t[a].quantity),this.payment_form.discount_offer+=parseFloat(t[a].discount*t[a].quantity),"product_base"==this.settings.shipping_cost&&(this.payment_form.shipping_tax+=parseFloat(t[a].shipping_cost)),this.payment_form.tax+=parseFloat(t[a].tax*t[a].quantity),this.payment_form.trx_id=t[a].trx_id;if(s)for(var r in s)this.payment_form.shipping_tax+=parseFloat(s[r].shipping_cost),this.payment_form.tax+=parseFloat(s[r].tax);if(e&&1==this.settings.coupon_system){this.coupon_list=e;for(var o=0;o<e.length;o++)this.payment_form.coupon_discount+=parseFloat(e[o].discount)}this.shipping_cost=this.payment_form.shipping_tax,this.calculateShippingCost()},fetchShippingCost:function(){var t=this;if(this.default_billing=this.default_shipping,"area_base"==this.settings.shipping_fee_type){var s=this.getUrl("user/find/shipping_cost"),e={city_id:this.default_shipping.address_ids.city_id};axios.post(s,e).then((function(s){s.data.error?toastr.error(s.data.error,t.lang.Error+" !!"):(t.payment_form.shipping_tax=s.data.shipping_cost,t.shipping_cost=t.payment_form.shipping_tax,t.payment_form.total=parseFloat(t.payment_form.sub_total)+parseFloat(t.payment_form.tax)+parseFloat(t.payment_form.shipping_tax)-(parseFloat(t.payment_form.discount_offer)+parseFloat(t.payment_form.coupon_discount)),"after_tax"==t.settings.tax_type?(t.payment_form.total=parseFloat(t.payment_form.sub_total)+parseFloat(t.payment_form.shipping_tax)-(parseFloat(t.payment_form.discount_offer)+parseFloat(t.payment_form.coupon_discount)),t.payment_form.total+=t.payment_form.tax,t.payment_form.total<0&&(t.payment_form.total=0)):(t.payment_form.total=parseFloat(t.payment_form.sub_total)+parseFloat(t.payment_form.tax)+parseFloat(t.payment_form.shipping_tax)-(parseFloat(t.payment_form.discount_offer)+parseFloat(t.payment_form.coupon_discount)),t.payment_form.total<0&&(t.payment_form.total=0)))}))}return!1},calculateShippingCost:function(){this.payment_form.shipping_tax=0,1==this.checkout_method?this.payment_form.shipping_tax=0:this.payment_form.shipping_tax=this.shipping_cost,"after_tax"==this.settings.tax_type&&"order_base"==this.settings.vat_and_tax_type?(this.payment_form.total=parseFloat(this.payment_form.sub_total)+parseFloat(this.payment_form.shipping_tax)-(parseFloat(this.payment_form.discount_offer)+parseFloat(this.payment_form.coupon_discount)),this.payment_form.total+=this.payment_form.tax,this.payment_form.total<0&&(this.payment_form.total=0)):(this.payment_form.total=parseFloat(this.payment_form.sub_total)+parseFloat(this.payment_form.tax)+parseFloat(this.payment_form.shipping_tax)-(parseFloat(this.payment_form.discount_offer)+parseFloat(this.payment_form.coupon_discount)),this.payment_form.total<0&&(this.payment_form.total=0))},getNumber:function(t){this.form.phone_no=t}}};const u=(0,e(1900).Z)(_,(function(){var t=this,s=t._self._c;return s("div",{staticClass:"sg-page-content"},[s("div",{staticClass:"sg-breadcrumb"},[s("div",{staticClass:"container"},[s("ol",{staticClass:"breadcrumb justify-content-center"},[s("li",{staticClass:"breadcrumb-item"},[s("router-link",{attrs:{to:{name:"cart"}}},[t._v(t._s(t.lang.view_cart))])],1),t._v(" "),s("li",{staticClass:"breadcrumb-item"},[t._v(t._s(t.lang.check_out))]),t._v(" "),s("li",{staticClass:"breadcrumb-item"},[s("a",{attrs:{href:"javascript:void(0)"}},[t._v(t._s(t.lang.confirm_order))])])])])]),t._v(" "),s("section",{staticClass:"shopping-cart"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"sg-shipping"},[s("div",{staticClass:"title"},[s("h1",[t._v(t._s(t.lang.choose_a_way_to_collect_order))])]),t._v(" "),t.pick_hubs.length>0?s("div",{staticClass:"left-content"},[s("form",{staticClass:"form-checkbox"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkout_method,expression:"checkout_method"}],staticClass:"form-check-input",attrs:{type:"radio",id:"address",value:"2"},domProps:{checked:t._q(t.checkout_method,"2")},on:{change:[function(s){t.checkout_method="2"},t.calculateShippingCost]}}),t._v(" "),s("label",{attrs:{for:"address"}},[t._v(t._s(t.lang.use_shipping_billing_addresses))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkout_method,expression:"checkout_method"}],staticClass:"form-check-input",attrs:{type:"radio",id:"pickhub",value:"1"},domProps:{checked:t._q(t.checkout_method,"1")},on:{change:[function(s){t.checkout_method="1"},t.calculateShippingCost]}}),t._v(" "),s("label",{attrs:{for:"pickhub"}},[t._v(t._s(t.lang.use_pickHub_point))])])])]):t._e(),t._v(" "),t.pick_hubs.length>0&&1==t.checkout_method?s("div",{staticClass:"title mt-2"},[s("h1",[t._v(t._s(t.lang.pickHub_point))])]):t._e(),t._v(" "),1==t.checkout_method&&t.pick_hubs.length>0?s("div",{staticClass:"left-content"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.pick_hub_id,expression:"pick_hub_id"}],staticClass:"form-control",on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.pick_hub_id=s.target.multiple?e:e[0]},t.calculateShippingCost]}},[s("option",{attrs:{value:""}},[t._v(t._s(t.lang.select_pickHub_point))]),t._v(" "),t._l(t.pick_hubs,(function(e,a){return s("option",{key:a,domProps:{value:e.id}},[t._v(t._s(e.name)+"\n                  => "+t._s(e.address)+"\n                ")])}))],2)]):t._e(),t._v(" "),t.addresses.length>0&&2==t.checkout_method?s("div",{staticClass:"title mt-2"},[s("h1",[t._v(t._s(t.lang.shipping_address))])]):t._e(),t._v(" "),t.addresses&&2==t.checkout_method?s("div",{staticClass:"row text-capitalize"},[t._l(t.addresses,(function(e,a){return s("div",{key:a,staticClass:"col-lg-6"},[s("label",{staticClass:"address_selector",attrs:{id:"shipping_"+e.id}},[s("div",{staticClass:"sg-card address chekout",class:t.default_shipping.id==e.id?"selected":""},[s("div",{staticClass:"justify-content-between d-flex"},[s("div",{staticClass:"text d-flex"},[s("div",{staticClass:"float-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.default_shipping,expression:"default_shipping"}],staticClass:"form-check-input",attrs:{type:"radio",name:"radioNoLabel",id:"shipping_"+e.id,"aria-label":"..."},domProps:{value:e,checked:t._q(t.default_shipping,e)},on:{change:[function(s){t.default_shipping=e},t.fetchShippingCost]}})]),t._v(" "),s("div",{staticClass:"address-right"},[s("ul",{staticClass:"global-list"},[s("li",[t._v(t._s(t.lang.name)+" : "+t._s(e.name))]),t._v(" "),s("li",[t._v(t._s(t.lang.email)+" : "+t._s(e.email))]),t._v(" "),s("li",[t._v(t._s(t.lang.phone)+" : "+t._s(e.phone_no))]),t._v(" "),s("li",[t._v(t._s(t.lang.street_address)+" : "+t._s(e.address))]),t._v(" "),s("li",[t._v(t._s(t.lang.country)+" : "+t._s(e.country))]),t._v(" "),s("li",[t._v(t._s(t.lang.state)+" : "+t._s(e.state))]),t._v(" "),s("li",[t._v(t._s(t.lang.city)+" : "+t._s(e.city))])])])]),t._v(" "),s("div",{staticClass:"dropdown"},[s("span",{staticClass:"mdi mdi-name mdi-dots-vertical dropbtn"}),t._v(" "),s("div",{staticClass:"dropdown-content"},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){return t.$refs.address_form.edit(e)}}},[t._v(t._s(t.lang.edit))]),t._v(" "),e.default_shipping||e.default_billing?t._e():s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){return t.$refs.address_form.deleteAddress(e.id)}}},[t._v(t._s(t.lang.delete))])])])])])])])})),t._v(" "),s("div",{staticClass:"col-lg-12"},[t.addresses.length>0?s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.same_address,expression:"same_address"}],staticClass:"form-check-input",attrs:{checked:"",id:"same_as",type:"checkbox"},domProps:{checked:Array.isArray(t.same_address)?t._i(t.same_address,null)>-1:t.same_address},on:{change:[function(s){var e=t.same_address,a=s.target,r=!!a.checked;if(Array.isArray(e)){var o=t._i(e,null);a.checked?o<0&&(t.same_address=e.concat([null])):o>-1&&(t.same_address=e.slice(0,o).concat(e.slice(o+1)))}else t.same_address=r},t.billingAddressSelect]}}),t._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"same_as"}},[t._v("\n                    "+t._s(t.lang.address_is_shipping)+"\n                  ")])]):t._e()])],2):t._e(),t._v(" "),t.addresses.length>0&&!t.same_address&&2==t.checkout_method?s("div",{staticClass:"title"},[s("h1",[t._v(t._s(t.lang.billing_address))])]):t._e(),t._v(" "),t.addresses&&!t.same_address&&2==t.checkout_method?s("div",{staticClass:"row text-capitalize"},t._l(t.addresses,(function(e,a){return s("div",{key:a,staticClass:"col-lg-6"},[s("label",{staticClass:"address_selector",attrs:{id:"billing_"+e.id}},[s("div",{staticClass:"sg-card address chekout",class:t.default_billing.id==e.id?"selected":""},[s("div",{staticClass:"justify-content-between d-flex"},[s("div",{staticClass:"text d-flex"},[s("div",{staticClass:"float-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.default_billing,expression:"default_billing"}],staticClass:"form-check-input",attrs:{type:"radio",id:"billing_"+e.id,"aria-label":"..."},domProps:r({checked:t.default_billing.id==e.id,value:e},"checked",t._q(t.default_billing,e)),on:{change:function(s){t.default_billing=e}}})]),t._v(" "),s("div",{staticClass:"address-right"},[s("ul",{staticClass:"global-list"},[s("li",[t._v(t._s(t.lang.name)+" : "+t._s(e.name))]),t._v(" "),s("li",[t._v(t._s(t.lang.email)+" : "+t._s(e.email))]),t._v(" "),s("li",[t._v(t._s(t.lang.phone)+" : "+t._s(e.phone_no))]),t._v(" "),s("li",[t._v(t._s(t.lang.street_address)+" : "+t._s(e.address))]),t._v(" "),s("li",[t._v(t._s(t.lang.country)+" : "+t._s(e.country))]),t._v(" "),s("li",[t._v(t._s(t.lang.state)+" : "+t._s(e.state))]),t._v(" "),s("li",[t._v(t._s(t.lang.city)+" : "+t._s(e.city))])])])]),t._v(" "),s("div",{staticClass:"dropdown",staticStyle:{float:"right"}},[s("span",{staticClass:"mdi mdi-name mdi-dots-vertical dropbtn"}),t._v(" "),s("div",{staticClass:"dropdown-content"},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){return t.$refs.address_form.edit(e)}}},[t._v(t._s(t.lang.edit))]),t._v(" "),e.default_shipping||e.default_billing?t._e():s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){return t.$refs.address_form.deleteAddress(e.id)}}},[t._v(t._s(t.lang.delete))])])])])])])])})),0):t._e(),t._v(" "),2==t.checkout_method?s("addressForm",{ref:"address_form"}):t._e()],1)]),t._v(" "),t.carts?s("div",{staticClass:"col-lg-4 pl-lg-5"},[s("div",{staticClass:"order-summary"},[s("h6",[t._v(t._s(t.lang.price_details))]),t._v(" "),t.authUser?s("coupon",{attrs:{coupon_list:t.coupon_list,cartList:t.carts,trx_id:t.payment_form.trx_id}}):t._e(),t._v(" "),s("div",{staticClass:"sg-card"},[s("payment_details",{attrs:{sub_total:t.payment_form.sub_total,tax:t.payment_form.tax,discount_offer:t.payment_form.discount_offer,shipping_tax:t.payment_form.shipping_tax,coupon_discount:t.payment_form.coupon_discount,total:t.payment_form.total}}),t._v(" "),s("gdpr_page",{ref:"privacy_agreement",attrs:{agreements:t.settings.privacy_agreement}}),t._v(" "),t.loading?s("loading_button",{attrs:{class_name:"btn btn-primary"}}):s("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0)"},on:{click:t.confirmOrder}},[t._v(t._s(t.lang.proceed_to_payment))])],1)],1)]):t._e()])])])])}),[],!1,null,null,null).exports},1038:(t,s,e)=>{e.d(s,{Z:()=>r});const a={name:"addressForm",components:{telePhone:e(3874).Z},data:function(){return{address_area:!1,address_area_title:"",form:{name:"",email:"",phone_no:"",address:"",country_id:"",state_id:"",city_id:"",postal_code:"",id:""},states:[],cities:[],address_submit_button:"",loading:!1}},mounted:function(){this.address_area_title=this.lang.address_area_title,this.address_submit_button=this.lang.address_submit_button},watch:{lang:function(){this.address_area_title=this.lang.address_area_title,this.address_submit_button=this.lang.address_submit_button}},computed:{countries:function(){return this.$store.getters.getCountryList}},methods:{saveAddress:function(){var t=this;this.loading=!0;var s=this.getUrl("store/user-address");axios.post(s,this.form).then((function(s){t.loading=!1,s.data.error?toastr.error(s.data.error,t.lang.Error+" !!"):(toastr.success(s.data.success,t.lang.Success+" !!"),t.errors=[],t.$parent.getAddress(),t.address_area=!1,t.form.id="",t.form.name="",t.form.email="",t.form.phone_no="",t.form.address="",t.form.country_id="",t.form.state_id="",t.form.city_id="",t.form.postal_code="",t.address_area_title=t.lang.address_area_title,t.address_submit_button=t.lang.address_submit_button,t.$store.commit("setMobileNo",""))})).catch((function(s){t.loading=!1,422==s.response.status&&(t.errors=s.response.data.errors)}))},getNumber:function(t){this.form.phone_no=t},getStates:function(t){var s=this,e=this.form.country_id,a=this.getUrl("state/by-country/"+e);axios.get(a).then((function(e){e.data.error?toastr.error(e.data.error,s.lang.Error+" !!"):(s.states=e.data.states,t&&t.address_ids&&(s.form.state_id=parseInt(t.address_ids.state_id),s.getCities(t)))}))},getCities:function(t){var s=this,e=this.form.state_id,a=this.getUrl("city/by-state/"+e);axios.get(a).then((function(e){e.data.error?toastr.error(e.data.error,s.lang.Error+" !!"):(s.cities=e.data.cities,t&&t.address_ids&&(s.form.city_id=parseInt(t.address_ids.city_id)))}))},edit:function(t){this.errors=[],this.address_area=!0,this.address_area_title=this.lang.update_address,this.address_submit_button=this.lang.update,this.form.name=t.name,this.form.email=t.email,this.form.phone_no=t.phone_no,this.form.address=t.address,this.form.country_id=parseInt(t.address_ids?t.address_ids.country_id:""),this.form.postal_code=t.postal_code,this.form.id=t.id,this.getStates(t),this.$store.commit("setMobileNo",this.form.phone_no);var s=this.$refs.update;s&&s.scrollIntoView({behavior:"smooth"})},deleteAddress:function(t){var s=this,e=this.getUrl("delete/user-address/"+t);axios.get(e).then((function(t){t.data.error?toastr.error(t.data.error,s.lang.Error+" !!"):(toastr.success(t.data.success,s.lang.Success+" !!"),s.$parent.getAddress())}))}}};const r=(0,e(1900).Z)(a,(function(){var t=this,s=t._self._c;return s("div",{ref:"update",staticClass:"accordion add-new"},[s("div",{staticClass:"accordion-item"},[s("div",{staticClass:"accordion-header"},[s("button",{staticClass:"accordion-button",class:{collapsed:!t.address_area},attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#shipping_accordion","aria-expanded":"false","aria-controls":"collapse1"},on:{click:function(s){t.address_area=!t.address_area}}},[t._v(t._s(t.address_area_title)+"\n      ")])]),t._v(" "),s("div",{staticClass:"accordion-collapse collapse",class:{show:t.address_area},attrs:{id:"shipping_accordion","aria-labelledby":"address1","data-bs-parent":"#accordionExample"}},[s("div",{staticClass:"accordion-body"},[s("form",{on:{submit:function(s){return s.preventDefault(),t.saveAddress()}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[s("label",[t._v(t._s(t.lang.name))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:{error_border:t.errors.name},attrs:{type:"text",placeholder:t.lang.name},domProps:{value:t.form.name},on:{input:function(s){s.target.composing||t.$set(t.form,"name",s.target.value)}}})]),t._v(" "),t.errors.name?s("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.name[0]))]):t._e()]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[s("label",[t._v(t._s(t.lang.email))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",class:{error_border:t.errors.email},attrs:{type:"email",placeholder:t.lang.email},domProps:{value:t.form.email},on:{input:function(s){s.target.composing||t.$set(t.form,"email",s.target.value)}}})]),t._v(" "),t.errors.email?s("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.email[0]))]):t._e()]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("label",[t._v(t._s(t.lang.phone))]),t._v(" "),s("telePhone",{attrs:{phone_error:t.errors.phone_no?t.errors.phone_no[0]:null},on:{phone_no:t.getNumber}}),t._v(" "),t.errors.phone_no?s("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.phone_no[0]))]):t._e()],1),t._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[s("label",[t._v(t._s(t.lang.country))]),t._v(" "),s("v-select",{class:{error_border:t.errors.country_id},attrs:{dir:t.settings.text_direction,label:"name",options:t.countries,reduce:function(t){return t.id}},on:{input:function(s){return t.getStates()}},model:{value:t.form.country_id,callback:function(s){t.$set(t.form,"country_id",s)},expression:"form.country_id"}})],1),t._v(" "),t.errors.country_id?s("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.country_id[0]))]):t._e()]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[s("label",[t._v(t._s(t.lang.state))]),t._v(" "),s("v-select",{class:{error_border:t.errors.state_id},attrs:{dir:t.settings.text_direction,label:"name",options:t.states,reduce:function(t){return t.id}},on:{input:function(s){return t.getCities()}},model:{value:t.form.state_id,callback:function(s){t.$set(t.form,"state_id",s)},expression:"form.state_id"}})],1),t._v(" "),t.errors.state_id?s("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.state_id[0]))]):t._e()]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[s("label",[t._v(t._s(t.lang.city))]),t._v(" "),s("v-select",{class:{error_border:t.errors.city_id},attrs:{dir:t.settings.text_direction,label:"name",options:t.cities,reduce:function(t){return t.id}},model:{value:t.form.city_id,callback:function(s){t.$set(t.form,"city_id",s)},expression:"form.city_id"}})],1),t._v(" "),t.errors.city_id?s("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.city_id[0]))]):t._e()]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[s("label",[t._v(t._s(t.lang.postal_code))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.postal_code,expression:"form.postal_code"}],staticClass:"form-control",class:{error_border:t.errors.postal_code},attrs:{type:"text",placeholder:t.lang.postal_code},domProps:{value:t.form.postal_code},on:{input:function(s){s.target.composing||t.$set(t.form,"postal_code",s.target.value)}}})]),t._v(" "),t.errors.postal_code?s("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.postal_code[0]))]):t._e()]),t._v(" "),s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"form-group"},[s("label",[t._v(t._s(t.lang.address))]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.address,expression:"form.address"}],staticClass:"form-control",class:{error_border:t.errors.address},attrs:{placeholder:t.lang.street_address},domProps:{value:t.form.address},on:{input:function(s){s.target.composing||t.$set(t.form,"address",s.target.value)}}})])]),t._v(" "),t.errors.address?s("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.address[0]))]):t._e()]),t._v(" "),s("div",{staticClass:"col-md-12"},[t.loading?s("loading_button",{attrs:{class_name:"btn btn-primary"}}):s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("\n                "+t._s(t.address_submit_button)+"\n              ")])],1)])])])])])])}),[],!1,null,"12aa7f9e",null).exports},3434:(t,s,e)=>{e.d(s,{Z:()=>o});const a={name:"coupon",props:["coupon_list","cartList","trx_id"],data:function(){return{loading:!1}},methods:{applyCoupon:function(){var t=this,s=this.getUrl("user/apply_coupon");this.cartList[0]&&this.cartList[0].trx_id?this.payment_form.trx_id=this.cartList[0].trx_id:this.payment_form.trx_id=this.trx_id,this.loading=!0,axios.post(s,this.payment_form).then((function(s){if(t.loading=!1,s.data.error)toastr.error(s.data.error,t.lang.Error+" !!");else{toastr.success(s.data.success,t.lang.Success+" !!"),t.carts=[];var e=s.data.carts,a=s.data.checkouts,r=s.data.coupons;t.$parent.parseData(e,a,r),t.payment_form.coupon_code=""}})).catch((function(s){t.loading=!1,toastr.success("Something Went Wrong","Error !!")}))},removeCoupon:function(t){var s=this;if(confirm("Are You Sure ?")){var e=this.getUrl("user/coupon-delete");this.disabled=!0;var a={trx_id:this.cartList[0].trx_id,coupon_id:t,user_id:this.authUser.id};axios.post(e,a).then((function(t){if(s.disabled=!1,t.data.error)toastr.error(t.data.error,s.lang.Error+" !!");else{toastr.success(t.data.success,s.lang.Success+" !!"),s.carts=[];var e=t.data.carts,a=t.data.checkouts,r=t.data.coupons;s.$parent.parseData(e,a,r),s.payment_form.coupon_code=""}})).catch((function(t){s.disabled=!1,toastr.success("Something Went Wrong","Error !!")}))}}}};var r=(0,e(1900).Z)(a,(function(){var t=this,s=t._self._c;return s("div",{staticClass:"accordion",attrs:{id:"couponAccordion"}},[s("div",{staticClass:"accordion-item"},[s("div",{staticClass:"accordion-header",attrs:{id:"headingOne"}},[s("button",{staticClass:"accordion-button",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#couponCollapse","aria-expanded":"true","aria-controls":"collapseOne"}},[s("span",[s("img",{staticClass:"img-fluid",attrs:{src:t.getUrl("public/images/others/pencil1.png"),alt:"Image"}})]),t._v(t._s(t.lang.apply_coupon_code)+"\n      ")])]),t._v(" "),s("div",{staticClass:"accordion-collapse collapse",attrs:{id:"couponCollapse","aria-labelledby":"headingOne","data-bs-parent":"#couponAccordion"}},[s("div",{staticClass:"accordion-body"},[s("div",{staticClass:"coupon-code-list"},t._l(t.coupon_list,(function(e,a){return s("div",{key:a,staticClass:"coupon-code"},[s("h5",[t._v(t._s(e.title))]),t._v(" "),s("P",[t._v(t._s("flat"==e.discount_type?t.priceFormat(e.discount):e.coupon_discount+"% "+t.lang.off))]),t._v(" "),s("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Close",disabled:t.disabled},on:{click:function(s){return t.removeCoupon(e.coupon_id)}}})],1)})),0),t._v(" "),s("form",{on:{submit:function(s){return s.preventDefault(),t.applyCoupon.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.payment_form.coupon_code,expression:"payment_form.coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.lang.enter_coupon_code,required:""},domProps:{value:t.payment_form.coupon_code},on:{input:function(s){s.target.composing||t.$set(t.payment_form,"coupon_code",s.target.value)}}}),t._v(" "),t.loading?s("loading_button",{attrs:{class_name:"opacity_5"}}):s("button",[t._v(t._s(t.lang.apply))])],1)])])])])}),[],!1,null,"4249aa11",null);const o=r.exports},8154:(t,s,e)=>{e.d(s,{Z:()=>r});const a={props:["agreements"],name:"gdpr_page",data:function(){return{agreement:""}},methods:{checkAgreements:function(){return!(this.agreements.length>0&&!this.agreement)}}};const r=(0,e(1900).Z)(a,(function(){var t=this,s=t._self._c;return t.agreements.length>0?s("div",{staticClass:"form-checkbox custom-gdpr"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.agreement,expression:"agreement"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"tnc",value:"2"},domProps:{checked:Array.isArray(t.agreement)?t._i(t.agreement,"2")>-1:t.agreement},on:{change:function(s){var e=t.agreement,a=s.target,r=!!a.checked;if(Array.isArray(e)){var o=t._i(e,"2");a.checked?o<0&&(t.agreement=e.concat(["2"])):o>-1&&(t.agreement=e.slice(0,o).concat(e.slice(o+1)))}else t.agreement=r}}}),t._v(" "),s("label",{attrs:{for:"tnc"}},[s("div",[t._v(t._s(t.lang.agreement)+"\n      "),t._l(t.agreements,(function(e,a){return s("span",{key:a,staticClass:"agreement"},[t.urlCheck(e.link)?s("a",{attrs:{href:e.link}},[t._v(t._s(e.title))]):s("router-link",{attrs:{to:"page/"+e.link}},[t._v(t._s(e.title))]),t._v(" "),a+2<t.agreements.length?s("a",{staticClass:"separator",attrs:{href:"javascript:void(0)"}},[t._v(",")]):a+1<t.agreements.length?s("a",{staticClass:"separator",attrs:{href:"javascript:void(0)"}},[t._v("&")]):t._e()],1)}))],2)])])]):t._e()}),[],!1,null,"cae494ae",null).exports},951:(t,s,e)=>{e.d(s,{Z:()=>r});const a={name:"payment_details",props:["sub_total","tax","discount_offer","shipping_tax","coupon_discount","total"],mounted:function(){}};const r=(0,e(1900).Z)(a,(function(){var t=this,s=t._self._c;return s("div",[s("ul",{staticClass:"global-list"},[s("li",[t._v(t._s(t.lang.subtotal)+" "),s("span",[t._v(t._s(t.priceFormat(t.sub_total)))])]),t._v(" "),"before_tax"==t.settings.tax_type||"product_base"==t.settings.vat_and_tax_type?s("li",[t._v(t._s(t.lang.tax)+" "),s("span",[t._v(t._s(t.priceFormat(t.tax)))])]):t._e(),t._v(" "),s("li",[t._v(t._s(t.lang.discount)),s("span",[t._v(t._s(t.priceFormat(t.discount_offer)))])]),t._v(" "),"area_base"!=t.settings.shipping_cost||"cart"!=t.$route.name?s("li",[t._v(t._s(t.lang.shipping_cost)),s("span",[t._v(t._s(t.priceFormat(t.shipping_tax)))])]):t._e(),t._v(" "),1==t.settings.coupon_system?s("li",[t._v(t._s(t.lang.coupon_discount)),s("span",[t._v(t._s(t.priceFormat(t.coupon_discount)))])]):t._e()]),t._v(" "),"after_tax"==t.settings.tax_type&&"order_base"==t.settings.vat_and_tax_type?s("div",{staticClass:"order-total"},[s("p",{staticClass:"font_weight_400"},[t._v(t._s(t.lang.total)+" "),s("span",[t._v(t._s(t.priceFormat(t.total-t.tax)))])]),t._v(" "),s("p",{staticClass:"font_weight_400"},[t._v(t._s(t.lang.tax)+" "),s("span",[t._v(t._s(t.priceFormat(t.tax)))])]),t._v(" "),s("p",{staticClass:"grand_total_style"},[t._v(t._s(t.lang.grand_total)+" "),s("span",[t._v(t._s(t.priceFormat(t.total)))])])]):s("div",{staticClass:"order-total"},[s("p",[t._v(t._s(t.lang.total)+" "),s("span",[t._v(t._s(t.priceFormat(t.total)))])])])])}),[],!1,null,"8f8b7758",null).exports},5662:(t,s,e)=>{e.d(s,{Z:()=>r});const a={name:"shimmer.vue",props:["height"],data:function(){return{style:{height:this.height+"px"}}}};const r=(0,e(1900).Z)(a,(function(){var t=this;return(0,t._self._c)("img",{staticClass:"shimmer",style:[t.height?t.style:null],attrs:{src:t.getUrl("public/images/default/preview.jpg"),alt:"shimmer"}})}),[],!1,null,null,null).exports},3874:(t,s,e)=>{e.d(s,{Z:()=>r});const a={name:"telephone",props:["phone_error"],data:function(){return{dropdown_active:!1,search_key:"",selected_country:"",defaultCountry:{flag:"",code:"",name:""},activeClass:"hideShow",phone_no:"",count:1,filtered_countries:[],country_id:[]}},watch:{phone:function(){this.phone_no=this.phone}},mounted:function(){this.country(),this.country_id=this.settings.default_country},computed:{phone:function(){return this.$store.getters.getMobileNo},countries:function(){return this.$store.getters.getCountryList}},methods:{PlusCheck:function(t){return!!t&&t.phonecode.includes("+")},getCountryCode:function(t){this.activeClass="hideShow",this.phone_no="",this.count=1,this.defaultCountry.flag=t?t.flag_icon:this.getUrl("public/images/flags/bd.png");t?(this.country_id=t.id,t.phonecode.includes("+")?this.defaultCountry.code=t.phonecode:this.defaultCountry.code="+"+t.phonecode,this.defaultCountry.name=t.name):(this.defaultCountry.code="+880",this.defaultCountry.name="Bangladesh"),this.phone_no=this.defaultCountry.code},activeDropDown:function(){var t=this;"hideShow"==this.activeClass?this.activeClass="":this.activeClass="hideShow",this.$nextTick((function(){document.addEventListener("click",t.hideSearchDropdown)}))},hideSearchDropdown:function(){this.activeClass="hideShow",document.removeEventListener("click",this.hideSearchDropdown)},countrySearch:function(){var t,s=this;return t=this.countries.filter((function(t){return t.name||t.phonecode})),this.filtered_countries=t.filter((function(t){return t.name&&t.name.toLowerCase().includes(s.search_key)||t.phonecode.includes(s.search_key)})),this.filtered_countries},getNum:function(){this.$emit("phone_no",this.phone_no),this.count++},country:function(){var t=this,s=this.getUrl("get/country-list");if(this.countries.length>0){this.filtered_countries=this.countries;var e=this.countries.find((function(s){return s.id==t.settings.default_country}));this.getCountryCode(e)}else axios.get(s).then((function(s){if(s.data.error)toastr.error(s.data.error,t.lang.Error+" !!");else{t.$store.commit("setCountryList",s.data.countries),t.filtered_countries=s.data.countries;var e=t.countries.find((function(s){return s.id==t.settings.default_country}));t.getCountryCode(e)}}))}}};const r=(0,e(1900).Z)(a,(function(){var t=this,s=t._self._c;return s("div",{staticClass:"yoori__signup--form",class:{error_border:t.phone_error}},[s("div",{staticClass:"country__code--config",on:{click:function(s){return s.stopPropagation(),t.activeDropDown.apply(null,arguments)}}},[s("div",{staticClass:"country__code--config-details"},[s("span",{staticClass:"country__code--flag"},[s("img",{staticClass:"img-fluid",attrs:{src:t.defaultCountry.flag,alt:"Flag"}})]),t._v(" "),s("span",{staticClass:"country__dropdown"})]),t._v(" "),s("ul",{staticClass:"country__code--list",class:t.activeClass,on:{click:function(t){t.stopPropagation()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search_key,expression:"search_key"}],staticClass:"country__search",attrs:{placeholder:"Search",type:"text"},domProps:{value:t.search_key},on:{keyup:t.countrySearch,input:function(s){s.target.composing||(t.search_key=s.target.value)}}}),t._v(" "),t._l(t.filtered_countries,(function(e,a){return s("li",{on:{click:function(s){return t.getCountryCode(e)}}},[s("span",{staticClass:"country__code--flag"},[s("img",{staticClass:"img-fluid",attrs:{loading:"lazy",src:e.flag_icon,alt:"Flag"}})]),t._v(" "),s("span",{staticClass:"country__name"},[s("strong",[t._v(t._s(e.name))])]),t._v(" "),s("span",{staticClass:"country__code--number"},[t._v("\n                        "+t._s(t.PlusCheck(e)?e.phonecode:"+"+e.phonecode)+"\n                      ")])])}))],2)]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone_no,expression:"phone_no"}],staticClass:"number",attrs:{type:"tel"},domProps:{value:t.phone_no},on:{keyup:function(s){return t.$emit("phone_no",t.phone_no)},input:function(s){s.target.composing||(t.phone_no=s.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.country_id,expression:"country_id"}],attrs:{type:"hidden"},domProps:{value:t.country_id},on:{input:function(s){s.target.composing||(t.country_id=s.target.value)}}})])}),[],!1,null,"6c1c69d2",null).exports}}]);